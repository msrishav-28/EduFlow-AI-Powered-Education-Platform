(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244],{13975:function(e,t,n){Promise.resolve().then(n.bind(n,68897))},68897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(57437),a=n(91859),l=n(55775),i=n.n(l),s=n(3664),o=n(29116),d=n(82148),u=n(5978),c=n(17293),f=n(99376),h=n(26743);let p=i()(()=>n.e(289).then(n.bind(n,22289)),{loadableGenerated:{webpack:()=>[22289]},ssr:!1});function m(){let[e,t]=(0,s.eJ)("// Paste your code here\nfunction add(a,b){return a+b}"),[n,a]=(0,s.eJ)(""),[l,i]=(0,s.eJ)(!1),[m,x]=(0,s.eJ)(null),b=(0,f.useSearchParams)(),{provider:g,setProvider:v}=(0,h.Q)();(0,s.d4)(()=>{let e=b.get("p");e&&v(e)},[b,v]),(0,s.d4)(()=>{if(!c.I8)return;let e=(0,d.Aj)(c.I8,e=>{var t;return x(null!==(t=null==e?void 0:e.uid)&&void 0!==t?t:null)});return()=>e&&e()},[]);let j=async()=>{i(!0);try{let t=await (0,o.Y)("Explain what this code does, point out any bugs, suggest improvements, and discuss time/space complexity if applicable.\n\n```javascript\n".concat(e,"\n```"),g);if(a(t),m&&c.db){let n=(0,u.hJ)(c.db,"users",m,"sessions");(0,u.ET)(n,{module:"code-explainer",provider:g,contentChars:e.length,responseChars:t.length,createdAt:(0,u.Bt)()}).catch(()=>{})}}finally{i(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Code Explainer"}),(0,r.jsxs)("div",{className:"mt-4 grid gap-4 lg:grid-cols-2",children:[(0,r.jsx)("div",{className:"overflow-hidden rounded-2xl border border-white/10",children:(0,r.jsx)(p,{height:"60vh",defaultLanguage:"javascript",value:e,theme:"vs-dark",onChange:e=>t(e||""),options:{minimap:{enabled:!1}}})}),(0,r.jsx)("div",{className:"glass rounded-2xl p-4 text-white/70 whitespace-pre-wrap",children:n||"AI explanation will appear here based on your code."})]}),(0,r.jsx)("button",{onClick:j,disabled:l,className:"mt-3 rounded-xl bg-primary-500 px-4 py-2 disabled:opacity-60",children:l?"Explaining…":"Explain code"})]})}function x(){return(0,r.jsx)(a.AppShell,{children:(0,r.jsx)(s.n4,{fallback:(0,r.jsx)("div",{className:"text-white/70",children:"Loading…"}),children:(0,r.jsx)(m,{})})})}},91859:function(e,t,n){"use strict";n.d(t,{AppShell:function(){return _}});var r=n(57437),a=n(27648),l=n(80646),i=n(73247),s=n(94766),o=n(85929),d=n(97226);function u(){let{theme:e,setTheme:t}=(0,l.F)(),n="dark"===e||"system"===e;return(0,r.jsx)("header",{className:"sticky top-0 z-30 border-b border-white/10 bg-bg/60 backdrop-blur-xs",children:(0,r.jsxs)("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-6 py-3",children:[(0,r.jsx)(a.default,{href:"/",className:"font-semibold",children:"EduFlow"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"glass hidden items-center gap-2 rounded-xl px-3 py-1.5 text-white/70 sm:flex",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("input",{className:"bg-transparent outline-none placeholder:text-white/40",placeholder:"Search...","aria-label":"Search"})]}),(0,r.jsx)("button",{"aria-label":"Notifications",className:"rounded-xl p-2 hover:bg-white/5 focus-ring",children:(0,r.jsx)(s.Z,{className:"h-5 w-5"})}),(0,r.jsx)("button",{"aria-label":"Toggle theme",onClick:()=>t(n?"light":"dark"),className:"rounded-xl p-2 hover:bg-white/5 focus-ring",children:n?(0,r.jsx)(o.Z,{className:"h-5 w-5"}):(0,r.jsx)(d.Z,{className:"h-5 w-5"})})]})]})})}var c=n(2265);function f(){return!function(){let[e,t]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),t(navigator.onLine),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}},[]),e}()?(0,r.jsx)("div",{role:"status","aria-live":"polite",className:"sticky top-0 z-50 w-full bg-yellow-500/20 py-2 text-center text-yellow-200",children:"You are offline. Changes will sync when you're back online."}):null}var h=n(99376),p=n(82222),m=n(81555),x=n(48736),b=n(45554),g=n(25330),v=n(98728),j=n(64502);let w=[{href:"/dashboard/chat",label:"AI Chat",icon:p.Z},{href:"/dashboard/qa",label:"Q&A",icon:m.Z},{href:"/dashboard/summarize",label:"Summarize",icon:x.Z},{href:"/dashboard/mcq",label:"MCQ",icon:b.Z},{href:"/dashboard/code-explainer",label:"Code",icon:g.Z},{href:"/settings",label:"Settings",icon:v.Z}];function y(){let e=(0,h.usePathname)();return(0,r.jsx)("aside",{className:"sticky top-16 hidden h-[calc(100vh-4rem)] w-60 shrink-0 lg:block",children:(0,r.jsx)("nav",{className:"glass h-full rounded-2xl p-3",children:w.map(t=>{let{href:n,label:l,icon:i}=t,s=null==e?void 0:e.startsWith(n);return(0,r.jsxs)(a.default,{href:n,className:(0,j.cn)("flex items-center gap-3 rounded-xl px-3 py-2 text-white/80 hover:bg-white/5",s&&"bg-white/10 text-white"),"aria-current":s?"page":void 0,children:[(0,r.jsx)(i,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:l})]},n)})})})}function _(e){let{children:t}=e,n=(0,h.usePathname)(),a=(null==n?void 0:n.startsWith("/dashboard"))||"/settings"===n;return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)(u,{}),(0,r.jsx)(f,{}),(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-6 py-8",children:a?(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[15rem,1fr]",children:[(0,r.jsx)(y,{}),(0,r.jsx)("div",{children:t})]}):t})]})}},80646:function(e,t,n){"use strict";n.d(t,{f:function(){return i},F:function(){return s}});var r=n(57437),a=n(2265);let l=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,a.useState)("system");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e&&i(e)},[]),(0,a.useEffect)(()=>{let e=window.document.documentElement,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r="system"===n?t?"dark":"light":n;e.classList.toggle("dark","dark"===r),localStorage.setItem("theme",n)},[n]),(0,r.jsx)(l.Provider,{value:{theme:n,setTheme:i},children:t})}function s(){let e=(0,a.useContext)(l);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},29116:function(e,t,n){"use strict";async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,provider:t})});if(!n.ok)throw Error((await n.json().catch(()=>({}))).error||"Request failed ".concat(n.status));return(await n.json()).content}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n=arguments.length>2?arguments[2]:void 0,r=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,provider:t,stream:!0})});if(!r.ok||!r.body)throw Error("Stream failed ".concat(r.status));let a=r.body.getReader(),l=new TextDecoder;for(;;){let{done:e,value:t}=await a.read();if(e)break;for(let e of l.decode(t).split("\n").filter(e=>e.trim()))try{let t=JSON.parse(e);t.response&&n&&n(t.response)}catch(e){}}}n.d(t,{Y:function(){return r},k:function(){return a}})},64502:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}n.d(t,{cn:function(){return r}})},17293:function(e,t,n){"use strict";let r,a,l,i;n.d(t,{I8:function(){return h},Vv:function(){return m},db:function(){return p}});var s=n(738),o=n(82148),d=n(5978),u=n(96485),c=n(40257);let f={apiKey:c.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:c.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:c.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:c.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:c.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:c.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:c.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID};f.apiKey&&(r=(0,s.C6)().length?(0,s.C6)()[0]:(0,s.ZF)(f),a=(0,o.v0)(r),l=(0,d.ad)(r),(0,u.cF)(r),i=new o.hJ);let h=a,p=l,m=i},3664:function(e,t,n){"use strict";n.d(t,{d4:function(){return r.useEffect},eJ:function(){return r.useState},n4:function(){return r.Suspense}});var r=n(2265)},62487:function(e,t,n){"use strict";n.d(t,{Gp:function(){return r.forwardRef},az:function(){return r.createElement}});var r=n(2265)},55775:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(85583),a=n(1780);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let l=n(47043);n(57437),n(2265);let i=l._(n(15602));function s(e,t){var n;let l={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};"function"==typeof e&&(l.loader=e);let s=r._({},l,t);return(0,i.default)(a._(r._({},s),{modules:null==(n=s.loadableGenerated)?void 0:n.modules}))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},81523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=n(18993);function a(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return n}},15602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(85583);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let a=n(57437),l=n(2265),i=n(81523),s=n(70049);function o(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},u=function(e){let t=r._({},d,e),n=(0,l.lazy)(()=>t.loader().then(o)),u=t.loading;function c(e){let o=u?(0,a.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(s.PreloadCss,{moduleIds:t.modules}):null,(0,a.jsx)(n,r._({},e))]}):(0,a.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,r._({},e))});return(0,a.jsx)(l.Suspense,{fallback:o,children:d})}return c.displayName="LoadableComponent",c}},70049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let r=n(57437),a=n(20544);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,a.getExpectedRequestStore)("next/dynamic css"),l=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},26743:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var r=n(59625),a=n(89134);let l=(0,r.Ue)()((0,a.tJ)(e=>({provider:"auto",setProvider:t=>e({provider:t})}),{name:"ai-provider"}))}},function(e){e.O(0,[609,15,338,129,883,971,117,744],function(){return e(e.s=13975)}),_N_E=e.O()}]);