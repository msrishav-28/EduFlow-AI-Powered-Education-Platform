(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{80049:function(e,t,n){Promise.resolve().then(n.bind(n,62784))},62784:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(57437),s=n(91859),a=n(3664),i=n(29116),l=n(82148),o=n(5978),c=n(17293),d=n(99376),u=n(26743);function h(){let[e,t]=(0,a.eJ)(""),[n,s]=(0,a.eJ)(""),[h,f]=(0,a.eJ)(!1),[m,p]=(0,a.eJ)(null),x=(0,d.useSearchParams)(),{provider:g,setProvider:v}=(0,u.Q)();(0,a.d4)(()=>{let e=x.get("p");e&&v(e)},[x,v]),(0,a.d4)(()=>{if(!c.I8)return;let e=(0,l.Aj)(c.I8,e=>{var t;return p(null!==(t=null==e?void 0:e.uid)&&void 0!==t?t:null)});return()=>e&&e()},[]);let w=async()=>{if(e.trim()){f(!0);try{let t=await (0,i.Y)("Answer the question concisely and cite sources where relevant.\n\nQuestion: ".concat(e),g);if(s(t),m&&c.db){let n=(0,o.hJ)(c.db,"users",m,"sessions");(0,o.ET)(n,{module:"qa",provider:g,promptChars:e.length,responseChars:t.length,createdAt:(0,o.Bt)()}).catch(()=>{})}}finally{f(!1)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold",children:"Question Answering"}),(0,r.jsxs)("div",{className:"mt-4 grid gap-3",children:[(0,r.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Ask your question...",className:"focus-ring rounded-xl border border-white/10 bg-white/5 px-3 py-2"}),(0,r.jsx)("button",{onClick:w,disabled:h,className:"w-fit rounded-xl bg-primary-500 px-4 py-2 disabled:opacity-60",children:h?"Asking…":"Ask"}),(0,r.jsx)("div",{className:"glass rounded-2xl p-4 text-white/70 whitespace-pre-wrap",children:n||"Results appear here."})]})]})}function f(){return(0,r.jsx)(s.AppShell,{children:(0,r.jsx)(a.n4,{fallback:(0,r.jsx)("div",{className:"text-white/70",children:"Loading…"}),children:(0,r.jsx)(h,{})})})}},91859:function(e,t,n){"use strict";n.d(t,{AppShell:function(){return N}});var r=n(57437),s=n(27648),a=n(80646),i=n(73247),l=n(94766),o=n(85929),c=n(97226);function d(){let{theme:e,setTheme:t}=(0,a.F)(),n="dark"===e||"system"===e;return(0,r.jsx)("header",{className:"sticky top-0 z-30 border-b border-white/10 bg-bg/60 backdrop-blur-xs",children:(0,r.jsxs)("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-6 py-3",children:[(0,r.jsx)(s.default,{href:"/",className:"font-semibold",children:"EduFlow"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"glass hidden items-center gap-2 rounded-xl px-3 py-1.5 text-white/70 sm:flex",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4"}),(0,r.jsx)("input",{className:"bg-transparent outline-none placeholder:text-white/40",placeholder:"Search...","aria-label":"Search"})]}),(0,r.jsx)("button",{"aria-label":"Notifications",className:"rounded-xl p-2 hover:bg-white/5 focus-ring",children:(0,r.jsx)(l.Z,{className:"h-5 w-5"})}),(0,r.jsx)("button",{"aria-label":"Toggle theme",onClick:()=>t(n?"light":"dark"),className:"rounded-xl p-2 hover:bg-white/5 focus-ring",children:n?(0,r.jsx)(o.Z,{className:"h-5 w-5"}):(0,r.jsx)(c.Z,{className:"h-5 w-5"})})]})]})})}var u=n(2265);function h(){return!function(){let[e,t]=(0,u.useState)(!0);return(0,u.useEffect)(()=>{let e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),t(navigator.onLine),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}},[]),e}()?(0,r.jsx)("div",{role:"status","aria-live":"polite",className:"sticky top-0 z-50 w-full bg-yellow-500/20 py-2 text-center text-yellow-200",children:"You are offline. Changes will sync when you're back online."}):null}var f=n(99376),m=n(82222),p=n(81555),x=n(48736),g=n(45554),v=n(25330),w=n(98728),b=n(64502);let E=[{href:"/dashboard/chat",label:"AI Chat",icon:m.Z},{href:"/dashboard/qa",label:"Q&A",icon:p.Z},{href:"/dashboard/summarize",label:"Summarize",icon:x.Z},{href:"/dashboard/mcq",label:"MCQ",icon:g.Z},{href:"/dashboard/code-explainer",label:"Code",icon:v.Z},{href:"/settings",label:"Settings",icon:w.Z}];function j(){let e=(0,f.usePathname)();return(0,r.jsx)("aside",{className:"sticky top-16 hidden h-[calc(100vh-4rem)] w-60 shrink-0 lg:block",children:(0,r.jsx)("nav",{className:"glass h-full rounded-2xl p-3",children:E.map(t=>{let{href:n,label:a,icon:i}=t,l=null==e?void 0:e.startsWith(n);return(0,r.jsxs)(s.default,{href:n,className:(0,b.cn)("flex items-center gap-3 rounded-xl px-3 py-2 text-white/80 hover:bg-white/5",l&&"bg-white/10 text-white"),"aria-current":l?"page":void 0,children:[(0,r.jsx)(i,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:a})]},n)})})})}function N(e){let{children:t}=e,n=(0,f.usePathname)(),s=(null==n?void 0:n.startsWith("/dashboard"))||"/settings"===n;return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)(d,{}),(0,r.jsx)(h,{}),(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-6 py-8",children:s?(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[15rem,1fr]",children:[(0,r.jsx)(j,{}),(0,r.jsx)("div",{children:t})]}):t})]})}},80646:function(e,t,n){"use strict";n.d(t,{f:function(){return i},F:function(){return l}});var r=n(57437),s=n(2265);let a=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,s.useState)("system");return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme");e&&i(e)},[]),(0,s.useEffect)(()=>{let e=window.document.documentElement,t=window.matchMedia("(prefers-color-scheme: dark)").matches,r="system"===n?t?"dark":"light":n;e.classList.toggle("dark","dark"===r),localStorage.setItem("theme",n)},[n]),(0,r.jsx)(a.Provider,{value:{theme:n,setTheme:i},children:t})}function l(){let e=(0,s.useContext)(a);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},29116:function(e,t,n){"use strict";async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,provider:t})});if(!n.ok)throw Error((await n.json().catch(()=>({}))).error||"Request failed ".concat(n.status));return(await n.json()).content}async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto",n=arguments.length>2?arguments[2]:void 0,r=await fetch("/api/ai/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,provider:t,stream:!0})});if(!r.ok||!r.body)throw Error("Stream failed ".concat(r.status));let s=r.body.getReader(),a=new TextDecoder;for(;;){let{done:e,value:t}=await s.read();if(e)break;for(let e of a.decode(t).split("\n").filter(e=>e.trim()))try{let t=JSON.parse(e);t.response&&n&&n(t.response)}catch(e){}}}n.d(t,{Y:function(){return r},k:function(){return s}})},64502:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}n.d(t,{cn:function(){return r}})},17293:function(e,t,n){"use strict";let r,s,a,i;n.d(t,{I8:function(){return f},Vv:function(){return p},db:function(){return m}});var l=n(738),o=n(82148),c=n(5978),d=n(96485),u=n(40257);let h={apiKey:u.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:u.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:u.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:u.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:u.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:u.env.NEXT_PUBLIC_FIREBASE_APP_ID,measurementId:u.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID};h.apiKey&&(r=(0,l.C6)().length?(0,l.C6)()[0]:(0,l.ZF)(h),s=(0,o.v0)(r),a=(0,c.ad)(r),(0,d.cF)(r),i=new o.hJ);let f=s,m=a,p=i},3664:function(e,t,n){"use strict";n.d(t,{d4:function(){return r.useEffect},eJ:function(){return r.useState},n4:function(){return r.Suspense}});var r=n(2265)},62487:function(e,t,n){"use strict";n.d(t,{Gp:function(){return r.forwardRef},az:function(){return r.createElement}});var r=n(2265)},26743:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(59625),s=n(89134);let a=(0,r.Ue)()((0,s.tJ)(e=>({provider:"auto",setProvider:t=>e({provider:t})}),{name:"ai-provider"}))}},function(e){e.O(0,[609,15,338,129,883,971,117,744],function(){return e(e.s=80049)}),_N_E=e.O()}]);